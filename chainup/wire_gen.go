// Code generated by Wire. DO NOT EDIT.

//go:generate wire
//+build !wireinject

package chainup

import (
	"chainup.dev/chainup/ansible"
	"chainup.dev/chainup/infrastructure"
	"chainup.dev/chainup/provision"
	"chainup.dev/chainup/terraform"
	"chainup.dev/lib/log"
	"testing"
)

// Injectors from inject_local.go:

func SetupInMemoryApp() *App {
	provider := ProvideFileConfigProvider()
	config := ProvideConfig(provider)
	terraformConfig := config.Terraform
	terraformTerraform := terraform.ConfigureTerraform(terraformConfig)
	terraformStep := provision.NewTerraformStep(terraformTerraform)
	ansibleConfig := config.Ansible
	ansibleAnsible := ansible.ConfigureAnsible(ansibleConfig)
	ansibleStep := provision.NewAnsibleStep(ansibleAnsible)
	jobStateMachine := provision.ConfigureJobStateMachine(terraformStep, ansibleStep)
	inMemoryJobRepository := provision.NewInMemoryJobRepository()
	provisioner := provision.NewProvisioner(jobStateMachine, inMemoryJobRepository, terraformTerraform)
	inMemoryServerRepository := infrastructure.NewInMemoryServerRepository()
	logConfig := config.Log
	consoleLogger := log.NewConsoleLogger(logConfig)
	app := NewApp(config, provisioner, inMemoryServerRepository, consoleLogger)
	return app
}

// Injectors from inject_testing.go:

func SetupTestApp(t *testing.T) *App {
	provider := ProvideTestConfigProvider()
	config := ProvideConfig(provider)
	terraformConfig := config.Terraform
	terraformTerraform := terraform.ConfigureTerraform(terraformConfig)
	terraformStep := provision.NewTerraformStep(terraformTerraform)
	ansibleConfig := config.Ansible
	ansibleAnsible := ansible.ConfigureAnsible(ansibleConfig)
	ansibleStep := provision.NewAnsibleStep(ansibleAnsible)
	jobStateMachine := provision.ConfigureJobStateMachine(terraformStep, ansibleStep)
	inMemoryJobRepository := provision.NewInMemoryJobRepository()
	provisioner := provision.NewProvisioner(jobStateMachine, inMemoryJobRepository, terraformTerraform)
	inMemoryServerRepository := infrastructure.NewInMemoryServerRepository()
	testingLogger := log.NewTestingLogger(t)
	app := NewApp(config, provisioner, inMemoryServerRepository, testingLogger)
	return app
}
